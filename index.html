<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPTIFARM | AkÄ±llÄ± TarÄ±m Ã‡Ã¶zÃ¼mleri</title>
    <style>
        :root {
            --primary: #2e7d32; /* Optifarm Green */
            --light-green: #e8f5e9;
            --accent: #f9a825;
            --dark: #1b1b1b;
            --white: #ffffff;
            --gray: #f4f7f6;
        }

        body { font-family: 'Segoe UI', sans-serif; margin: 0; padding: 0; background-color: var(--gray); color: var(--dark); }

        /* BRAND HEADER */
        header {
            background: white;
            text-align: center;
            padding: 20px 0;
            border-bottom: 1px solid #ddd;
        }
        
        header h1 {
            margin: 0;
            color: var(--primary);
            font-size: 2.5rem;
            letter-spacing: 2px;
            font-weight: 800;
        }

        header p { margin: 5px 0 0; color: #666; font-size: 1rem; }

        /* Navigation Bar */
        nav {
            background-color: var(--primary);
            padding: 10px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        nav button {
            background: transparent;
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 8px 16px;
            margin: 0 5px;
            font-size: 15px;
            cursor: pointer;
            border-radius: 20px;
            transition: 0.3s;
        }

        nav button:hover, nav button.active {
            background: white;
            color: var(--primary);
            border-color: white;
            font-weight: bold;
        }

        /* Layout */
        .container { max-width: 900px; margin: 20px auto; padding: 20px; }
        
        /* Sections */
        .section { display: none; animation: fadeIn 0.5s; }
        .section.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* Calculator Styles */
        .calc-box { background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); text-align: center; }
        select, .input-field { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px; box-sizing: border-box; }
        
        .action-btn {
            background-color: var(--primary); color: white; border: none; 
            padding: 15px 30px; border-radius: 5px; cursor: pointer; font-size: 16px; width: 100%;
        }
        .action-btn:hover { background-color: #1b5e20; }

        /* Card Styles */
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px; }
        .card { background: white; padding: 20px; border-radius: 8px; border-left: 5px solid var(--accent); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .card h3 { margin-top: 0; color: var(--primary); }
        
        /* Market Specific Styles */
        .market-tabs { display: flex; justify-content: center; margin-bottom: 20px; }
        .tab-btn { flex: 1; padding: 15px; border: none; cursor: pointer; background: #ddd; font-weight: bold; }
        .tab-btn.active-tab { background: var(--primary); color: white; }
        .tab-btn:first-child { border-radius: 8px 0 0 8px; }
        .tab-btn:last-child { border-radius: 0 8px 8px 0; }

        .tag { display: inline-block; background: var(--light-green); padding: 5px 10px; border-radius: 15px; font-size: 0.8rem; margin-right: 5px; color: var(--primary); font-weight: bold; }
        .price-tag { float: right; color: var(--accent); font-weight: bold; font-size: 1.2rem; }

        .form-panel { background: white; padding: 20px; margin-bottom: 20px; border-radius: 10px; border: 1px solid #ddd; display: none; }
        
        .empty-message { text-align: center; color: #777; padding: 20px; font-style: italic; background: #fff; border-radius: 8px; }
        
        footer { text-align: center; margin-top: 50px; color: #999; font-size: 0.8rem; }
    </style>
</head>
<body>

<!-- LOGO HEADER -->
<header>
    <h1>OPTIFARM ðŸ‡¹ðŸ‡·</h1>
    <p>TÃ¼rkiye'nin AkÄ±llÄ± TarÄ±m ve Ä°stihdam Platformu</p>
</header>

<!-- Navigation -->
<nav>
    <button onclick="switchView('calculator')" id="nav-calculator" class="active"> AkÄ±llÄ± Mahsul</button>
    <button onclick="switchView('market')" id="nav-market"> Ä°ÅŸÃ§i PazarÄ±</button>
</nav>

<div class="container">

    <!-- SECTION 1: CROP CALCULATOR -->
    <div id="calculator" class="section active">
        <div class="calc-box">
            <h2> Mahsul Optimizasyon Motoru</h2>
            <p>Toprak, hava durumu ve pazar verilerini analiz etmek iÃ§in bir bÃ¶lge seÃ§in.</p>
            <select id="citySelect">
                <option value="konya">Konya (Ä°Ã§ Anadolu)</option>
                <option value="antalya">Antalya (Akdeniz)</option>
                <option value="rize">Rize (Karadeniz)</option>
                <option value="edirne">Edirne (Marmara)</option>
                <option value="sanliurfa">ÅžanlÄ±urfa (GÃ¼neydoÄŸu)</option>
            </select>
            <button class="action-btn" onclick="calculateOptimization()">BÃ¶lgeyi Analiz Et</button>
        </div>

        <div id="calcResults" style="display:none; margin-top: 30px;">
            <h3> Analiz SonuÃ§larÄ±</h3>
            <div class="grid" id="cropGrid"></div>
            <div class="grid" id="animalGrid"></div>
        </div>
    </div>

    <!-- SECTION 2: WORKER MARKET -->
    <div id="market" class="section">
        <div class="market-tabs">
            <button class="tab-btn active-tab" onclick="switchMarketTab('workers')"> Ä°ÅŸÃ§i Bul</button>
            <button class="tab-btn" onclick="switchMarketTab('farmers')">ðŸšœ Ä°ÅŸ Ä°lanlarÄ±</button>
            <button class="tab-btn" style="background:var(--accent); color:black;" onclick="toggleForm()">âž• Ä°lan Ver</button>
        </div>

        <!-- Hidden Form to Post Advert -->
        <div id="postForm" class="form-panel">
            <h3>Yeni Ä°lan OluÅŸtur</h3>
            <select id="advertType" class="input-field">
                <option value="worker">Ä°ÅŸÃ§iyim (Ä°ÅŸ ArÄ±yorum)</option>
                <option value="farmer">Ã‡iftÃ§iyim (Ä°ÅŸÃ§i ArÄ±yorum)</option>
            </select>
            <input type="text" id="postName" placeholder="Ad Soyad" class="input-field">
            <input type="text" id="postLoc" placeholder="YaÅŸadÄ±ÄŸÄ±nÄ±z Yer / Ã‡iftlik Konumu" class="input-field">
            <input type="text" id="postSalary" placeholder="GÃ¼nlÃ¼k Ãœcret Beklentisi (TL)" class="input-field">
            <input type="text" id="postContact" placeholder="Telefon NumarasÄ±" class="input-field">
            <input type="text" id="postDest" placeholder="GidebileceÄŸi Åžehirler (Sadece Ä°ÅŸÃ§iler Ä°Ã§in)" class="input-field">
            <select id="postGender" class="input-field">
                <option value="Erkek">Erkek</option>
                <option value="KadÄ±n">KadÄ±n</option>
            </select>
            
            <button class="action-btn" onclick="postAdvert()">Ä°lanÄ± YayÄ±nla</button>
        </div>

        <!-- Worker Listings (Farmers look here) -->
        <div id="workerListings">
            <h2>Mevcut Ä°ÅŸÃ§iler</h2>
            <p>Åžu anda Ã§alÄ±ÅŸmaya uygun mevsimlik iÅŸÃ§iler.</p>
            <div id="workersGrid" class="grid"></div>
        </div>

        <!-- Farmer Listings (Workers look here) -->
        <div id="farmerListings" style="display:none;">
            <h2>Ã‡iftlik Ä°ÅŸ Ä°lanlarÄ±</h2>
            <p>Hasat sezonu iÃ§in eleman arayan Ã§iftÃ§iler.</p>
            <div id="farmersGrid" class="grid"></div>
        </div>
    </div>

</div>

<footer>
    &copy; 2024 OPTIFARM - TÃ¼m HaklarÄ± SaklÄ±dÄ±r.
</footer>

<script>
    // --- DATA (Turkish Translations) ---
    const agriData = {
        "konya": { crops: ["BuÄŸday ", "Åžeker PancarÄ± ", "Arpa "], animals: ["Merinos Koyunu ", "KÃ¼mes HayvancÄ±lÄ±ÄŸÄ± "] },
        "antalya": { crops: ["Domates ", "Narenciye ", "Avokado "], animals: ["KÄ±l KeÃ§isi ", "ArÄ±cÄ±lÄ±k "] },
        "rize": { crops: ["Ã‡ay ðŸµ", "FÄ±ndÄ±k ", "Yaban Mersini "], animals: ["Jersey Ä°neÄŸi ", "AlabalÄ±k "] },
        "edirne": { crops: ["AyÃ§iÃ§eÄŸi ", "Ã‡eltik (PirinÃ§) "], animals: ["SÃ¼t Ä°neÄŸi "] },
        "sanliurfa": { crops: ["Pamuk ", "Antep FÄ±stÄ±ÄŸÄ± "], animals: ["Koyun "] }
    };

    // --- CLEAN DATABASES (No Fake Adverts) ---
    let workersDB = []; 
    let farmersDB = [];

    // --- FUNCTIONS ---

    // 1. Navigation Logic
    function switchView(viewName) {
        document.querySelectorAll('.section').forEach(el => el.classList.remove('active'));
        document.querySelectorAll('nav button').forEach(el => el.classList.remove('active'));
        
        const selectedSection = document.getElementById(viewName);
        const selectedBtn = document.getElementById('nav-' + (viewName === 'calculator' ? 'calculator' : 'market'));

        if (selectedSection) selectedSection.classList.add('active');
        if (selectedBtn) selectedBtn.classList.add('active');
    }

    // 2. Crop Calculator Logic
    function calculateOptimization() {
        const city = document.getElementById('citySelect').value;
        const data = agriData[city];
        
        const cropHTML = data.crops.map(c => `<div class="card"><h3>${c}</h3><p>YÃ¼ksek Verim Potansiyeli</p></div>`).join('');
        document.getElementById('cropGrid').innerHTML = cropHTML;

        const animalHTML = data.animals.map(a => `<div class="card"><h3>${a}</h3><p>Araziye Uygun</p></div>`).join('');
        document.getElementById('animalGrid').innerHTML = animalHTML;

        document.getElementById('calcResults').style.display = 'block';
    }

    // 3. Market Logic
    function renderMarket() {
        // Render Workers
        const wContainer = document.getElementById('workersGrid');
        if (workersDB.length === 0) {
            wContainer.innerHTML = '<div class="empty-message">Aktif iÅŸÃ§i ilanÄ± yok. Ä°lan eklemek iÃ§in "Ä°lan Ver" butonuna tÄ±klayÄ±n.</div>';
        } else {
            wContainer.innerHTML = workersDB.map(w => `
                <div class="card">
                    <span class="price-tag">${w.salary}</span>
                    <h3>${w.name}</h3>
                    <p> <b>Konum:</b> ${w.location}</p>
                    <p> <b>Cinsiyet:</b> ${w.gender}</p>
                    <p> <b>GidebileceÄŸi Yerler:</b> ${w.dest}</p>
                    <p> <b>Ä°letiÅŸim:</b> ${w.contact}</p>
                    <span class="tag">Ä°ÅŸÃ§i</span>
                </div>
            `).join('');
        }

        // Render Farmers
        const fContainer = document.getElementById('farmersGrid');
        if (farmersDB.length === 0) {
            fContainer.innerHTML = '<div class="empty-message">Aktif iÅŸ ilanÄ± yok. Ä°lan eklemek iÃ§in "Ä°lan Ver" butonuna tÄ±klayÄ±n.</div>';
        } else {
            fContainer.innerHTML = farmersDB.map(f => `
                <div class="card" style="border-left-color: var(--primary);">
                    <span class="price-tag">${f.salary}</span>
                    <h3>${f.name}</h3>
                    <p> <b>Ã‡iftlik Konumu:</b> ${f.location}</p>
                    <p> <b>Ä°letiÅŸim:</b> ${f.contact}</p>
                    <span class="tag" style="color:white; background:var(--primary)">Ä°ÅŸveren</span>
                </div>
            `).join('');
        }
    }

    function switchMarketTab(tab) {
        if(tab === 'workers') {
            document.getElementById('workerListings').style.display = 'block';
            document.getElementById('farmerListings').style.display = 'none';
        } else {
            document.getElementById('workerListings').style.display = 'none';
            document.getElementById('farmerListings').style.display = 'block';
        }
    }

    function toggleForm() {
        const form = document.getElementById('postForm');
        form.style.display = form.style.display === 'block' ? 'none' : 'block';
    }

    function postAdvert() {
        const type = document.getElementById('advertType').value;
        const name = document.getElementById('postName').value;
        const loc = document.getElementById('postLoc').value;
        const salary = document.getElementById('postSalary').value;
        const contact = document.getElementById('postContact').value;
        const dest = document.getElementById('postDest').value;
        const gender = document.getElementById('postGender').value;

        if(!name || !loc || !salary) { alert("LÃ¼tfen tÃ¼m alanlarÄ± doldurun!"); return; }

        if (type === 'worker') {
            workersDB.unshift({ name, location: loc, gender: gender, dest: dest || "Farketmez", salary, contact });
            switchMarketTab('workers');
        } else {
            farmersDB.unshift({ name, location: loc, salary, contact });
            switchMarketTab('farmers');
        }

        renderMarket(); // Refresh list
        toggleForm(); // Hide form
        alert("Ä°lanÄ±nÄ±z baÅŸarÄ±yla yayÄ±nlandÄ±!");
    }

    // Initialize
    renderMarket();
</script>

</body>
</html>
